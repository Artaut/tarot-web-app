{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":68},"end":{"line":3,"column":44,"index":112}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":113},"end":{"line":4,"column":69,"index":182}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-get-random-values","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":183},"end":{"line":5,"column":40,"index":223}}],"key":"3kc6sqkMNpp2bAHRSje4HY23hC8=","exportNames":["*"],"imports":1}},{"name":"uuid","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":224},"end":{"line":6,"column":34,"index":258}}],"key":"K6NfiWYjGbCRgJahsbk3i3NzTqQ=","exportNames":["*"],"imports":1}},{"name":"@/lib/rc","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":259},"end":{"line":7,"column":87,"index":346}}],"key":"7aso38t+BQVjdw8QfBADiB5Mgpw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getOrCreateAppUserId = getOrCreateAppUserId;\n  exports.initRevenueCat = initRevenueCat;\n  exports.useEntitlements = useEntitlements;\n  exports.loadOfferings = loadOfferings;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  require(_dependencyMap[3], \"react-native-get-random-values\");\n  var _uuid = require(_dependencyMap[4], \"uuid\");\n  var _libRc = require(_dependencyMap[5], \"@/lib/rc\");\n  // frontend/lib/premium.ts\n\n  const STORAGE_KEY = \"appUserId\";\n  let _started = false;\n  async function getOrCreateAppUserId() {\n    let id = await AsyncStorage.default.getItem(STORAGE_KEY);\n    if (!id) {\n      id = (0, _uuid.v4)();\n      await AsyncStorage.default.setItem(STORAGE_KEY, id);\n    }\n    return id;\n  }\n  async function initRevenueCat() {\n    if (_started) return;\n    _started = true;\n    const apiKey = Platform.default.select({\n      android: process.env.EXPO_PUBLIC_RC_ANDROID_KEY,\n      ios: process.env.EXPO_PUBLIC_RC_IOS_KEY,\n      default: null\n    });\n\n    // Web veya anahtar yoksa sessizce geÃ§\n    if (!apiKey || !_libRc.rcAvailable) return;\n    const appUserId = await getOrCreateAppUserId();\n    await (0, _libRc.rcConfigure)({\n      apiKey,\n      appUserID: appUserId\n    });\n  }\n  function useEntitlements() {\n    const [state, setState] = (0, _react.useState)({\n      loading: true,\n      isPremium: false,\n      hasNoAds: false,\n      error: null\n    });\n    (0, _react.useEffect)(() => {\n      let alive = true;\n      (async () => {\n        try {\n          await initRevenueCat();\n          if (!_libRc.rcAvailable) {\n            if (alive) setState({\n              loading: false,\n              isPremium: false,\n              hasNoAds: false,\n              error: null\n            });\n            return;\n          }\n          const info = await (0, _libRc.rcGetCustomerInfo)();\n          const ent = info?.entitlements?.active ?? {};\n          const isPremium = !!ent['premium'];\n          const hasNoAds = !!ent['no_ads'] || isPremium;\n          if (alive) setState({\n            loading: false,\n            isPremium,\n            hasNoAds,\n            error: null\n          });\n        } catch (e) {\n          if (alive) setState({\n            loading: false,\n            isPremium: false,\n            hasNoAds: false,\n            error: String(e?.message ?? e)\n          });\n        }\n      })();\n      return () => {\n        alive = false;\n      };\n    }, []);\n    return state;\n  }\n  async function loadOfferings() {\n    await initRevenueCat();\n    if (!_libRc.rcAvailable) return null;\n    return (0, _libRc.rcGetOfferings)();\n  }\n});","lineCount":104,"map":[[12,2,12,0,"exports"],[12,9,12,0],[12,10,12,0,"getOrCreateAppUserId"],[12,30,12,0],[12,33,12,0,"getOrCreateAppUserId"],[12,53,12,0],[13,2,21,0,"exports"],[13,9,21,0],[13,10,21,0,"initRevenueCat"],[13,24,21,0],[13,27,21,0,"initRevenueCat"],[13,41,21,0],[14,2,38,0,"exports"],[14,9,38,0],[14,10,38,0,"useEntitlements"],[14,25,38,0],[14,28,38,0,"useEntitlements"],[14,43,38,0],[15,2,70,0,"exports"],[15,9,70,0],[15,10,70,0,"loadOfferings"],[15,23,70,0],[15,26,70,0,"loadOfferings"],[15,39,70,0],[16,2,74,1],[16,6,74,1,"_reactNativeWebDistExportsPlatform"],[16,40,74,1],[16,43,74,1,"require"],[16,50,74,1],[16,51,74,1,"_dependencyMap"],[16,65,74,1],[17,2,74,1],[17,6,74,1,"Platform"],[17,14,74,1],[17,17,74,1,"_interopDefault"],[17,32,74,1],[17,33,74,1,"_reactNativeWebDistExportsPlatform"],[17,67,74,1],[18,2,3,0],[18,6,3,0,"_react"],[18,12,3,0],[18,15,3,0,"require"],[18,22,3,0],[18,23,3,0,"_dependencyMap"],[18,37,3,0],[19,2,4,0],[19,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,4,0],[19,45,4,0,"require"],[19,52,4,0],[19,53,4,0,"_dependencyMap"],[19,67,4,0],[20,2,4,0],[20,6,4,0,"AsyncStorage"],[20,18,4,0],[20,21,4,0,"_interopDefault"],[20,36,4,0],[20,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,4,0],[21,2,5,0,"require"],[21,9,5,0],[21,10,5,0,"_dependencyMap"],[21,24,5,0],[22,2,6,0],[22,6,6,0,"_uuid"],[22,11,6,0],[22,14,6,0,"require"],[22,21,6,0],[22,22,6,0,"_dependencyMap"],[22,36,6,0],[23,2,7,0],[23,6,7,0,"_libRc"],[23,12,7,0],[23,15,7,0,"require"],[23,22,7,0],[23,23,7,0,"_dependencyMap"],[23,37,7,0],[24,2,1,0],[26,2,9,0],[26,8,9,6,"STORAGE_KEY"],[26,19,9,17],[26,22,9,20],[26,33,9,31],[27,2,10,0],[27,6,10,4,"_started"],[27,14,10,12],[27,17,10,15],[27,22,10,20],[28,2,12,7],[28,17,12,22,"getOrCreateAppUserId"],[28,37,12,42,"getOrCreateAppUserId"],[28,38,12,42],[28,40,12,45],[29,4,13,2],[29,8,13,6,"id"],[29,10,13,8],[29,13,13,11],[29,19,13,17,"AsyncStorage"],[29,31,13,29],[29,32,13,29,"default"],[29,39,13,29],[29,40,13,30,"getItem"],[29,47,13,37],[29,48,13,38,"STORAGE_KEY"],[29,59,13,49],[29,60,13,50],[30,4,14,2],[30,8,14,6],[30,9,14,7,"id"],[30,11,14,9],[30,13,14,11],[31,6,15,4,"id"],[31,8,15,6],[31,11,15,9],[31,15,15,9,"uuid"],[31,20,15,13],[31,21,15,13,"v4"],[31,23,15,13],[31,25,15,14],[31,26,15,15],[32,6,16,4],[32,12,16,10,"AsyncStorage"],[32,24,16,22],[32,25,16,22,"default"],[32,32,16,22],[32,33,16,23,"setItem"],[32,40,16,30],[32,41,16,31,"STORAGE_KEY"],[32,52,16,42],[32,54,16,44,"id"],[32,56,16,46],[32,57,16,47],[33,4,17,2],[34,4,18,2],[34,11,18,9,"id"],[34,13,18,11],[35,2,19,0],[36,2,21,7],[36,17,21,22,"initRevenueCat"],[36,31,21,36,"initRevenueCat"],[36,32,21,36],[36,34,21,39],[37,4,22,2],[37,8,22,6,"_started"],[37,16,22,14],[37,18,22,16],[38,4,23,2,"_started"],[38,12,23,10],[38,15,23,13],[38,19,23,17],[39,4,25,2],[39,10,25,8,"apiKey"],[39,16,25,14],[39,19,25,17,"Platform"],[39,27,25,25],[39,28,25,25,"default"],[39,35,25,25],[39,36,25,26,"select"],[39,42,25,32],[39,43,25,33],[40,6,26,4,"android"],[40,13,26,11],[40,15,26,13,"process"],[40,22,26,20],[40,23,26,21,"env"],[40,26,26,24],[40,27,26,25,"EXPO_PUBLIC_RC_ANDROID_KEY"],[40,53,26,51],[41,6,27,4,"ios"],[41,9,27,7],[41,11,27,9,"process"],[41,18,27,16],[41,19,27,17,"env"],[41,22,27,20],[41,23,27,21,"EXPO_PUBLIC_RC_IOS_KEY"],[41,45,27,43],[42,6,28,4,"default"],[42,13,28,11],[42,15,28,13],[43,4,29,2],[43,5,29,3],[43,6,29,21],[45,4,31,2],[46,4,32,2],[46,8,32,6],[46,9,32,7,"apiKey"],[46,15,32,13],[46,19,32,17],[46,20,32,18,"rcAvailable"],[46,26,32,29],[46,27,32,29,"rcAvailable"],[46,38,32,29],[46,40,32,31],[47,4,34,2],[47,10,34,8,"appUserId"],[47,19,34,17],[47,22,34,20],[47,28,34,26,"getOrCreateAppUserId"],[47,48,34,46],[47,49,34,47],[47,50,34,48],[48,4,35,2],[48,10,35,8],[48,14,35,8,"rcConfigure"],[48,20,35,19],[48,21,35,19,"rcConfigure"],[48,32,35,19],[48,34,35,20],[49,6,35,22,"apiKey"],[49,12,35,28],[50,6,35,30,"appUserID"],[50,15,35,39],[50,17,35,41,"appUserId"],[51,4,35,51],[51,5,35,52],[51,6,35,53],[52,2,36,0],[53,2,38,7],[53,11,38,16,"useEntitlements"],[53,26,38,31,"useEntitlements"],[53,27,38,31],[53,29,38,34],[54,4,39,2],[54,10,39,8],[54,11,39,9,"state"],[54,16,39,14],[54,18,39,16,"setState"],[54,26,39,24],[54,27,39,25],[54,30,39,28],[54,34,39,28,"useState"],[54,40,39,36],[54,41,39,36,"useState"],[54,49,39,36],[54,51,39,37],[55,6,40,4,"loading"],[55,13,40,11],[55,15,40,13],[55,19,40,17],[56,6,41,4,"isPremium"],[56,15,41,13],[56,17,41,15],[56,22,41,20],[57,6,42,4,"hasNoAds"],[57,14,42,12],[57,16,42,14],[57,21,42,19],[58,6,43,4,"error"],[58,11,43,9],[58,13,43,11],[59,4,44,2],[59,5,44,3],[59,6,44,4],[60,4,46,2],[60,8,46,2,"useEffect"],[60,14,46,11],[60,15,46,11,"useEffect"],[60,24,46,11],[60,26,46,12],[60,32,46,18],[61,6,47,4],[61,10,47,8,"alive"],[61,15,47,13],[61,18,47,16],[61,22,47,20],[62,6,48,4],[62,7,48,5],[62,19,48,17],[63,8,49,6],[63,12,49,10],[64,10,50,8],[64,16,50,14,"initRevenueCat"],[64,30,50,28],[64,31,50,29],[64,32,50,30],[65,10,51,8],[65,14,51,12],[65,15,51,13,"rcAvailable"],[65,21,51,24],[65,22,51,24,"rcAvailable"],[65,33,51,24],[65,35,51,26],[66,12,52,10],[66,16,52,14,"alive"],[66,21,52,19],[66,23,52,21,"setState"],[66,31,52,29],[66,32,52,30],[67,14,52,32,"loading"],[67,21,52,39],[67,23,52,41],[67,28,52,46],[68,14,52,48,"isPremium"],[68,23,52,57],[68,25,52,59],[68,30,52,64],[69,14,52,66,"hasNoAds"],[69,22,52,74],[69,24,52,76],[69,29,52,81],[70,14,52,83,"error"],[70,19,52,88],[70,21,52,90],[71,12,52,95],[71,13,52,96],[71,14,52,97],[72,12,53,10],[73,10,54,8],[74,10,55,8],[74,16,55,14,"info"],[74,20,55,18],[74,23,55,21],[74,29,55,27],[74,33,55,27,"rcGetCustomerInfo"],[74,39,55,44],[74,40,55,44,"rcGetCustomerInfo"],[74,57,55,44],[74,59,55,45],[74,60,55,46],[75,10,56,8],[75,16,56,14,"ent"],[75,19,56,17],[75,22,56,20,"info"],[75,26,56,24],[75,28,56,26,"entitlements"],[75,40,56,38],[75,42,56,40,"active"],[75,48,56,46],[75,52,56,50],[75,53,56,51],[75,54,56,52],[76,10,57,8],[76,16,57,14,"isPremium"],[76,25,57,23],[76,28,57,26],[76,29,57,27],[76,30,57,28,"ent"],[76,33,57,31],[76,34,57,32],[76,43,57,41],[76,44,57,42],[77,10,58,8],[77,16,58,14,"hasNoAds"],[77,24,58,22],[77,27,58,25],[77,28,58,26],[77,29,58,27,"ent"],[77,32,58,30],[77,33,58,31],[77,41,58,39],[77,42,58,40],[77,46,58,44,"isPremium"],[77,55,58,53],[78,10,59,8],[78,14,59,12,"alive"],[78,19,59,17],[78,21,59,19,"setState"],[78,29,59,27],[78,30,59,28],[79,12,59,30,"loading"],[79,19,59,37],[79,21,59,39],[79,26,59,44],[80,12,59,46,"isPremium"],[80,21,59,55],[81,12,59,57,"hasNoAds"],[81,20,59,65],[82,12,59,67,"error"],[82,17,59,72],[82,19,59,74],[83,10,59,79],[83,11,59,80],[83,12,59,81],[84,8,60,6],[84,9,60,7],[84,10,60,8],[84,17,60,15,"e"],[84,18,60,21],[84,20,60,23],[85,10,61,8],[85,14,61,12,"alive"],[85,19,61,17],[85,21,61,19,"setState"],[85,29,61,27],[85,30,61,28],[86,12,61,30,"loading"],[86,19,61,37],[86,21,61,39],[86,26,61,44],[87,12,61,46,"isPremium"],[87,21,61,55],[87,23,61,57],[87,28,61,62],[88,12,61,64,"hasNoAds"],[88,20,61,72],[88,22,61,74],[88,27,61,79],[89,12,61,81,"error"],[89,17,61,86],[89,19,61,88,"String"],[89,25,61,94],[89,26,61,95,"e"],[89,27,61,96],[89,29,61,98,"message"],[89,36,61,105],[89,40,61,109,"e"],[89,41,61,110],[90,10,61,112],[90,11,61,113],[90,12,61,114],[91,8,62,6],[92,6,63,4],[92,7,63,5],[92,9,63,7],[92,10,63,8],[93,6,64,4],[93,13,64,11],[93,19,64,17],[94,8,64,19,"alive"],[94,13,64,24],[94,16,64,27],[94,21,64,32],[95,6,64,34],[95,7,64,35],[96,4,65,2],[96,5,65,3],[96,7,65,5],[96,9,65,7],[96,10,65,8],[97,4,67,2],[97,11,67,9,"state"],[97,16,67,14],[98,2,68,0],[99,2,70,7],[99,17,70,22,"loadOfferings"],[99,30,70,35,"loadOfferings"],[99,31,70,35],[99,33,70,38],[100,4,71,2],[100,10,71,8,"initRevenueCat"],[100,24,71,22],[100,25,71,23],[100,26,71,24],[101,4,72,2],[101,8,72,6],[101,9,72,7,"rcAvailable"],[101,15,72,18],[101,16,72,18,"rcAvailable"],[101,27,72,18],[101,29,72,20],[101,36,72,27],[101,40,72,31],[102,4,73,2],[102,11,73,9],[102,15,73,9,"rcGetOfferings"],[102,21,73,23],[102,22,73,23,"rcGetOfferings"],[102,36,73,23],[102,38,73,24],[102,39,73,25],[103,2,74,0],[104,0,74,1],[104,3]],"functionMap":{"names":["<global>","getOrCreateAppUserId","initRevenueCat","useEntitlements","useEffect$argument_0","<anonymous>","loadOfferings"],"mappings":"AAA;OCW;CDO;OEE;CFe;OGE;YCQ;KCE;KDe;WCC,wBD;GDC;CHG;OME;CNI"},"hasCjsExports":false},"type":"js/module"}]}