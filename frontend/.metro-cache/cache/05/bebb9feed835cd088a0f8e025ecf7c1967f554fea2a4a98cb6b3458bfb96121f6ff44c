{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":68},"end":{"line":3,"column":44,"index":112}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":113},"end":{"line":4,"column":69,"index":182}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-get-random-values","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":183},"end":{"line":5,"column":40,"index":223}}],"key":"3kc6sqkMNpp2bAHRSje4HY23hC8=","exportNames":["*"],"imports":1}},{"name":"uuid","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":224},"end":{"line":6,"column":34,"index":258}}],"key":"K6NfiWYjGbCRgJahsbk3i3NzTqQ=","exportNames":["*"],"imports":1}},{"name":"@/lib/rc","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":259},"end":{"line":7,"column":87,"index":346}}],"key":"7aso38t+BQVjdw8QfBADiB5Mgpw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$(); // frontend/lib/premium.ts\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getOrCreateAppUserId = getOrCreateAppUserId;\n  exports.initRevenueCat = initRevenueCat;\n  exports.useEntitlements = useEntitlements;\n  exports.loadOfferings = loadOfferings;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  require(_dependencyMap[4], \"react-native-get-random-values\");\n  var _uuid = require(_dependencyMap[5], \"uuid\");\n  var _libRc = require(_dependencyMap[6], \"@/lib/rc\");\n  const STORAGE_KEY = \"appUserId\";\n  let _started = false;\n  async function getOrCreateAppUserId() {\n    let id = await AsyncStorage.default.getItem(STORAGE_KEY);\n    if (!id) {\n      id = (0, _uuid.v4)();\n      await AsyncStorage.default.setItem(STORAGE_KEY, id);\n    }\n    return id;\n  }\n  async function initRevenueCat() {\n    if (_started) return;\n    _started = true;\n    const apiKey = Platform.default.select({\n      android: _expoVirtualEnv.env.EXPO_PUBLIC_RC_ANDROID_KEY,\n      ios: _expoVirtualEnv.env.EXPO_PUBLIC_RC_IOS_KEY,\n      default: null\n    });\n\n    // Web veya anahtar yoksa sessizce geÃ§\n    if (!apiKey || !_libRc.rcAvailable) return;\n    const appUserId = await getOrCreateAppUserId();\n    await (0, _libRc.rcConfigure)({\n      apiKey,\n      appUserID: appUserId\n    });\n  }\n  function useEntitlements() {\n    _s();\n    const [state, setState] = (0, _react.useState)({\n      loading: true,\n      isPremium: false,\n      hasNoAds: false,\n      error: null\n    });\n    (0, _react.useEffect)(() => {\n      let alive = true;\n      (async () => {\n        try {\n          await initRevenueCat();\n          if (!_libRc.rcAvailable) {\n            if (alive) setState({\n              loading: false,\n              isPremium: false,\n              hasNoAds: false,\n              error: null\n            });\n            return;\n          }\n          const info = await (0, _libRc.rcGetCustomerInfo)();\n          const ent = info?.entitlements?.active ?? {};\n          const isPremium = !!ent['premium'];\n          const hasNoAds = !!ent['no_ads'] || isPremium;\n          if (alive) setState({\n            loading: false,\n            isPremium,\n            hasNoAds,\n            error: null\n          });\n        } catch (e) {\n          if (alive) setState({\n            loading: false,\n            isPremium: false,\n            hasNoAds: false,\n            error: String(e?.message ?? e)\n          });\n        }\n      })();\n      return () => {\n        alive = false;\n      };\n    }, []);\n    return state;\n  }\n  _s(useEntitlements, \"4Xw5ZKb/JL0UJjnp5stDcSr/JT0=\");\n  async function loadOfferings() {\n    await initRevenueCat();\n    if (!_libRc.rcAvailable) return null;\n    return (0, _libRc.rcGetOfferings)();\n  }\n});","lineCount":106,"map":[[4,27,1,0],[5,2,1,0,"Object"],[5,8,1,0],[5,9,1,0,"defineProperty"],[5,23,1,0],[5,24,1,0,"exports"],[5,31,1,0],[6,4,1,0,"value"],[6,9,1,0],[7,2,1,0],[8,2,1,0],[8,11,1,0,"_interopDefault"],[8,27,1,0,"e"],[8,28,1,0],[9,4,1,0],[9,11,1,0,"e"],[9,12,1,0],[9,16,1,0,"e"],[9,17,1,0],[9,18,1,0,"__esModule"],[9,28,1,0],[9,31,1,0,"e"],[9,32,1,0],[10,6,1,0,"default"],[10,13,1,0],[10,15,1,0,"e"],[11,4,1,0],[12,2,1,0],[13,2,12,0,"exports"],[13,9,12,0],[13,10,12,0,"getOrCreateAppUserId"],[13,30,12,0],[13,33,12,0,"getOrCreateAppUserId"],[13,53,12,0],[14,2,21,0,"exports"],[14,9,21,0],[14,10,21,0,"initRevenueCat"],[14,24,21,0],[14,27,21,0,"initRevenueCat"],[14,41,21,0],[15,2,38,0,"exports"],[15,9,38,0],[15,10,38,0,"useEntitlements"],[15,25,38,0],[15,28,38,0,"useEntitlements"],[15,43,38,0],[16,2,70,0,"exports"],[16,9,70,0],[16,10,70,0,"loadOfferings"],[16,23,70,0],[16,26,70,0,"loadOfferings"],[16,39,70,0],[17,2,74,1],[17,6,74,1,"_expoVirtualEnv"],[17,21,74,1],[17,24,74,1,"require"],[17,31,74,1],[17,32,74,1,"_dependencyMap"],[17,46,74,1],[18,2,74,1],[18,6,74,1,"_reactNativeWebDistExportsPlatform"],[18,40,74,1],[18,43,74,1,"require"],[18,50,74,1],[18,51,74,1,"_dependencyMap"],[18,65,74,1],[19,2,74,1],[19,6,74,1,"Platform"],[19,14,74,1],[19,17,74,1,"_interopDefault"],[19,32,74,1],[19,33,74,1,"_reactNativeWebDistExportsPlatform"],[19,67,74,1],[20,2,3,0],[20,6,3,0,"_react"],[20,12,3,0],[20,15,3,0,"require"],[20,22,3,0],[20,23,3,0,"_dependencyMap"],[20,37,3,0],[21,2,4,0],[21,6,4,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,4,0],[21,45,4,0,"require"],[21,52,4,0],[21,53,4,0,"_dependencyMap"],[21,67,4,0],[22,2,4,0],[22,6,4,0,"AsyncStorage"],[22,18,4,0],[22,21,4,0,"_interopDefault"],[22,36,4,0],[22,37,4,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,4,0],[23,2,5,0,"require"],[23,9,5,0],[23,10,5,0,"_dependencyMap"],[23,24,5,0],[24,2,6,0],[24,6,6,0,"_uuid"],[24,11,6,0],[24,14,6,0,"require"],[24,21,6,0],[24,22,6,0,"_dependencyMap"],[24,36,6,0],[25,2,7,0],[25,6,7,0,"_libRc"],[25,12,7,0],[25,15,7,0,"require"],[25,22,7,0],[25,23,7,0,"_dependencyMap"],[25,37,7,0],[26,2,9,0],[26,8,9,6,"STORAGE_KEY"],[26,19,9,17],[26,22,9,20],[26,33,9,31],[27,2,10,0],[27,6,10,4,"_started"],[27,14,10,12],[27,17,10,15],[27,22,10,20],[28,2,12,7],[28,17,12,22,"getOrCreateAppUserId"],[28,37,12,42,"getOrCreateAppUserId"],[28,38,12,42],[28,40,12,45],[29,4,13,2],[29,8,13,6,"id"],[29,10,13,8],[29,13,13,11],[29,19,13,17,"AsyncStorage"],[29,31,13,29],[29,32,13,29,"default"],[29,39,13,29],[29,40,13,30,"getItem"],[29,47,13,37],[29,48,13,38,"STORAGE_KEY"],[29,59,13,49],[29,60,13,50],[30,4,14,2],[30,8,14,6],[30,9,14,7,"id"],[30,11,14,9],[30,13,14,11],[31,6,15,4,"id"],[31,8,15,6],[31,11,15,9],[31,15,15,9,"uuid"],[31,20,15,13],[31,21,15,13,"v4"],[31,23,15,13],[31,25,15,14],[31,26,15,15],[32,6,16,4],[32,12,16,10,"AsyncStorage"],[32,24,16,22],[32,25,16,22,"default"],[32,32,16,22],[32,33,16,23,"setItem"],[32,40,16,30],[32,41,16,31,"STORAGE_KEY"],[32,52,16,42],[32,54,16,44,"id"],[32,56,16,46],[32,57,16,47],[33,4,17,2],[34,4,18,2],[34,11,18,9,"id"],[34,13,18,11],[35,2,19,0],[36,2,21,7],[36,17,21,22,"initRevenueCat"],[36,31,21,36,"initRevenueCat"],[36,32,21,36],[36,34,21,39],[37,4,22,2],[37,8,22,6,"_started"],[37,16,22,14],[37,18,22,16],[38,4,23,2,"_started"],[38,12,23,10],[38,15,23,13],[38,19,23,17],[39,4,25,2],[39,10,25,8,"apiKey"],[39,16,25,14],[39,19,25,17,"Platform"],[39,27,25,25],[39,28,25,25,"default"],[39,35,25,25],[39,36,25,26,"select"],[39,42,25,32],[39,43,25,33],[40,6,26,4,"android"],[40,13,26,11],[40,15,26,11,"_expoVirtualEnv"],[40,30,26,11],[40,31,26,11,"env"],[40,34,26,11],[40,35,26,11,"EXPO_PUBLIC_RC_ANDROID_KEY"],[40,61,26,51],[41,6,27,4,"ios"],[41,9,27,7],[41,11,27,7,"_expoVirtualEnv"],[41,26,27,7],[41,27,27,7,"env"],[41,30,27,7],[41,31,27,7,"EXPO_PUBLIC_RC_IOS_KEY"],[41,53,27,43],[42,6,28,4,"default"],[42,13,28,11],[42,15,28,13],[43,4,29,2],[43,5,29,3],[43,6,29,21],[45,4,31,2],[46,4,32,2],[46,8,32,6],[46,9,32,7,"apiKey"],[46,15,32,13],[46,19,32,17],[46,20,32,18,"rcAvailable"],[46,26,32,29],[46,27,32,29,"rcAvailable"],[46,38,32,29],[46,40,32,31],[47,4,34,2],[47,10,34,8,"appUserId"],[47,19,34,17],[47,22,34,20],[47,28,34,26,"getOrCreateAppUserId"],[47,48,34,46],[47,49,34,47],[47,50,34,48],[48,4,35,2],[48,10,35,8],[48,14,35,8,"rcConfigure"],[48,20,35,19],[48,21,35,19,"rcConfigure"],[48,32,35,19],[48,34,35,20],[49,6,35,22,"apiKey"],[49,12,35,28],[50,6,35,30,"appUserID"],[50,15,35,39],[50,17,35,41,"appUserId"],[51,4,35,51],[51,5,35,52],[51,6,35,53],[52,2,36,0],[53,2,38,7],[53,11,38,16,"useEntitlements"],[53,26,38,31,"useEntitlements"],[53,27,38,31],[53,29,38,34],[54,4,38,34,"_s"],[54,6,38,34],[55,4,39,2],[55,10,39,8],[55,11,39,9,"state"],[55,16,39,14],[55,18,39,16,"setState"],[55,26,39,24],[55,27,39,25],[55,30,39,28],[55,34,39,28,"useState"],[55,40,39,36],[55,41,39,36,"useState"],[55,49,39,36],[55,51,39,37],[56,6,40,4,"loading"],[56,13,40,11],[56,15,40,13],[56,19,40,17],[57,6,41,4,"isPremium"],[57,15,41,13],[57,17,41,15],[57,22,41,20],[58,6,42,4,"hasNoAds"],[58,14,42,12],[58,16,42,14],[58,21,42,19],[59,6,43,4,"error"],[59,11,43,9],[59,13,43,11],[60,4,44,2],[60,5,44,3],[60,6,44,4],[61,4,46,2],[61,8,46,2,"useEffect"],[61,14,46,11],[61,15,46,11,"useEffect"],[61,24,46,11],[61,26,46,12],[61,32,46,18],[62,6,47,4],[62,10,47,8,"alive"],[62,15,47,13],[62,18,47,16],[62,22,47,20],[63,6,48,4],[63,7,48,5],[63,19,48,17],[64,8,49,6],[64,12,49,10],[65,10,50,8],[65,16,50,14,"initRevenueCat"],[65,30,50,28],[65,31,50,29],[65,32,50,30],[66,10,51,8],[66,14,51,12],[66,15,51,13,"rcAvailable"],[66,21,51,24],[66,22,51,24,"rcAvailable"],[66,33,51,24],[66,35,51,26],[67,12,52,10],[67,16,52,14,"alive"],[67,21,52,19],[67,23,52,21,"setState"],[67,31,52,29],[67,32,52,30],[68,14,52,32,"loading"],[68,21,52,39],[68,23,52,41],[68,28,52,46],[69,14,52,48,"isPremium"],[69,23,52,57],[69,25,52,59],[69,30,52,64],[70,14,52,66,"hasNoAds"],[70,22,52,74],[70,24,52,76],[70,29,52,81],[71,14,52,83,"error"],[71,19,52,88],[71,21,52,90],[72,12,52,95],[72,13,52,96],[72,14,52,97],[73,12,53,10],[74,10,54,8],[75,10,55,8],[75,16,55,14,"info"],[75,20,55,18],[75,23,55,21],[75,29,55,27],[75,33,55,27,"rcGetCustomerInfo"],[75,39,55,44],[75,40,55,44,"rcGetCustomerInfo"],[75,57,55,44],[75,59,55,45],[75,60,55,46],[76,10,56,8],[76,16,56,14,"ent"],[76,19,56,17],[76,22,56,20,"info"],[76,26,56,24],[76,28,56,26,"entitlements"],[76,40,56,38],[76,42,56,40,"active"],[76,48,56,46],[76,52,56,50],[76,53,56,51],[76,54,56,52],[77,10,57,8],[77,16,57,14,"isPremium"],[77,25,57,23],[77,28,57,26],[77,29,57,27],[77,30,57,28,"ent"],[77,33,57,31],[77,34,57,32],[77,43,57,41],[77,44,57,42],[78,10,58,8],[78,16,58,14,"hasNoAds"],[78,24,58,22],[78,27,58,25],[78,28,58,26],[78,29,58,27,"ent"],[78,32,58,30],[78,33,58,31],[78,41,58,39],[78,42,58,40],[78,46,58,44,"isPremium"],[78,55,58,53],[79,10,59,8],[79,14,59,12,"alive"],[79,19,59,17],[79,21,59,19,"setState"],[79,29,59,27],[79,30,59,28],[80,12,59,30,"loading"],[80,19,59,37],[80,21,59,39],[80,26,59,44],[81,12,59,46,"isPremium"],[81,21,59,55],[82,12,59,57,"hasNoAds"],[82,20,59,65],[83,12,59,67,"error"],[83,17,59,72],[83,19,59,74],[84,10,59,79],[84,11,59,80],[84,12,59,81],[85,8,60,6],[85,9,60,7],[85,10,60,8],[85,17,60,15,"e"],[85,18,60,21],[85,20,60,23],[86,10,61,8],[86,14,61,12,"alive"],[86,19,61,17],[86,21,61,19,"setState"],[86,29,61,27],[86,30,61,28],[87,12,61,30,"loading"],[87,19,61,37],[87,21,61,39],[87,26,61,44],[88,12,61,46,"isPremium"],[88,21,61,55],[88,23,61,57],[88,28,61,62],[89,12,61,64,"hasNoAds"],[89,20,61,72],[89,22,61,74],[89,27,61,79],[90,12,61,81,"error"],[90,17,61,86],[90,19,61,88,"String"],[90,25,61,94],[90,26,61,95,"e"],[90,27,61,96],[90,29,61,98,"message"],[90,36,61,105],[90,40,61,109,"e"],[90,41,61,110],[91,10,61,112],[91,11,61,113],[91,12,61,114],[92,8,62,6],[93,6,63,4],[93,7,63,5],[93,9,63,7],[93,10,63,8],[94,6,64,4],[94,13,64,11],[94,19,64,17],[95,8,64,19,"alive"],[95,13,64,24],[95,16,64,27],[95,21,64,32],[96,6,64,34],[96,7,64,35],[97,4,65,2],[97,5,65,3],[97,7,65,5],[97,9,65,7],[97,10,65,8],[98,4,67,2],[98,11,67,9,"state"],[98,16,67,14],[99,2,68,0],[100,2,68,1,"_s"],[100,4,68,1],[100,5,38,16,"useEntitlements"],[100,20,38,31],[101,2,70,7],[101,17,70,22,"loadOfferings"],[101,30,70,35,"loadOfferings"],[101,31,70,35],[101,33,70,38],[102,4,71,2],[102,10,71,8,"initRevenueCat"],[102,24,71,22],[102,25,71,23],[102,26,71,24],[103,4,72,2],[103,8,72,6],[103,9,72,7,"rcAvailable"],[103,15,72,18],[103,16,72,18,"rcAvailable"],[103,27,72,18],[103,29,72,20],[103,36,72,27],[103,40,72,31],[104,4,73,2],[104,11,73,9],[104,15,73,9,"rcGetOfferings"],[104,21,73,23],[104,22,73,23,"rcGetOfferings"],[104,36,73,23],[104,38,73,24],[104,39,73,25],[105,2,74,0],[106,0,74,1],[106,3]],"functionMap":{"names":["<global>","getOrCreateAppUserId","initRevenueCat","useEntitlements","useEffect$argument_0","<anonymous>","loadOfferings"],"mappings":"AAA;OCW;CDO;OEE;CFe;OGE;YCQ;KCE;KDe;WCC,wBD;GDC;CHG;OME;CNI"},"hasCjsExports":false},"type":"js/module"}]}